<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Yuki-r Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Yuki-r Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yuki">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Yuki-r Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yuki-r Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/23/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/23/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-23 17:48:14" itemprop="dateCreated datePublished" datetime="2020-11-23T17:48:14+08:00">2020-11-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 概述</h1><ol>
<li><strong>计算机网络安全的概念是什么？网络安全有哪几个特征？各特征的含义是什么？</strong></li>
</ol>
<p>答：网络安全：指网络系统的软硬件以及系统中存储和传输的数据受到保护，不因偶然的或恶意的原因而遭到破坏、更改、泄露，网络系统连续可靠正常地运行，网络服务不中断。</p>
<p>网络安全的特征(属性)：</p>
<ul>
<li><p>机密性。保证信息与信息系统不被非授权的用户、实体或过程所获取与使用。</p>
</li>
<li><p>完整性。信息在存储或传输时不被破坏、修改，或不发生信息包丢失、乱序等。</p>
</li>
<li><p>可用性。信息在信息系统可被授权实体正常访问的特性，即授权实体在需要时能够存取所需信息。</p>
</li>
<li><p>可控性。对信息的此处与传播具有完全的控制能力，可以控制信息的流向和行为方式。</p>
</li>
<li><p>真实性。也就是可靠性，指信息的可用度，包括信息的完整性、准确性和发送人身份真实性等方面，它也是信息安全性的基本要素。</p>
</li>
</ul>
<ol start="2">
<li><p><strong>OSI的安全服务和安全机制都有哪几项？安全机制和安全服务是什么关系？</strong></p>
<p>答：OSI的5大类安全服务：鉴别服务、访问控制、数据完整性、数据保密性、不可否认性服务；</p>
</li>
</ol>
<p>OSI的8类特定的安全机制：加密、数字签名、访问控制、数据完整性、鉴别交换、信息流填充、路由控制、公证机制</p>
<p>OSI的5种通用的安全机制：可信功能、安全标签、事件检侧、安全审计跟踪、安全恢复。</p>
<p>安全服务通过安全机制来实现安全策略。</p>
<ol start="3">
<li><strong>什么是网络安全策略？主要包括哪几个方面的策略？</strong></li>
</ol>
<p>答：网络安全策略是网络安全系统的灵魂与核心，是在一个特定的环境里为保证提供一定级别的安全保护所必须遵守的规则集合。</p>
<p>网络安全策略主要包括5个方面：物理安全策略、访问控制策略、防火墙控制策略、信息加密策略、网络安全、管理策略。</p>
<ol start="4">
<li><strong>网络安全体系包括哪几个部分，各部分又由哪些方面组成？</strong></li>
</ol>
<p>答：网络安全体系包括三个组成部分：</p>
<p>网络安全技术体系：物理安全、计算机系统平台安全、通信安全、应用系统安全</p>
<p>网络安全组织体系：国家级、地方</p>
<p>网络安全管理体系：法律、制度、培训管理</p>
<h1 id="第二章-密码学"><a href="#第二章-密码学" class="headerlink" title="第二章 密码学"></a>第二章 密码学</h1><ol>
<li>密码体制五元组是什么?</li>
</ol>
<p>答：明文空间/P，密文空间/C，密钥空间/K，加密算法/E，解密算法/D。</p>
<ol start="2">
<li>从技术上说，一个密码体制的安全性取决于使用的什么的强度？</li>
</ol>
<p>答：密码算法。</p>
<h1 id="第三章-消息鉴别与数字签名"><a href="#第三章-消息鉴别与数字签名" class="headerlink" title="第三章 消息鉴别与数字签名"></a>第三章 消息鉴别与数字签名</h1><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119175733.png"></p>
<ol>
<li>根据鉴别符的生成方式，鉴别函数可以分为哪几类？各自有什么特点？</li>
</ol>
<p>答：根据鉴别符的生成方式，鉴别函数可以分成以下几类：</p>
<p>1）基于消息加密方式的鉴别：以整个消息的密文作为鉴别符。此方法需要对整个消息进行加密，且要求消息具有一定的结构或格式。</p>
<p>2）基于消息鉴别码（MAC）的鉴别方式：发送方利用公开函数+密钥产生一个固定长度的值作为鉴别标识，并与消息一同发送。此方法需要专门的消息鉴别函数。</p>
<p>3）基于Hash函数的鉴别方式：采用hash函数将任意长度的消息映射为一个定长的散列值，以此散列值为鉴别码。</p>
<p>此方法必须与加密结合起来才具有安全性，此方法中哈希函数和加密算法都可选现成的函数，较易实现。</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201118173248.png"></p>
<h1 id="第四章-身份认证"><a href="#第四章-身份认证" class="headerlink" title="第四章 身份认证"></a>第四章 身份认证</h1><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201120213856.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119101729.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119180741.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119180753.png"></p>
<h1 id="试卷"><a href="#试卷" class="headerlink" title="试卷"></a>试卷</h1><h2 id="网络安全复习题"><a href="#网络安全复习题" class="headerlink" title="网络安全复习题"></a>网络安全复习题</h2><ol>
<li>简述安全Hash函数要求满足的六个性质。</li>
</ol>
<blockquote>
<p>（1）H能够应用于任何大小的模块</p>
<p>（2）H产生固定长度的输出</p>
<p>（3）对于任何给定的数据块x，H都能够相对容易地计算出H(x)，这样就使得硬件和软件实现变得切实可行</p>
<p>（4）对于任何给定的值h来说，寻找满足H(x) = h的数据块x，在计算上是不可行的，</p>
<p>（5）对于给定的数据块x来说，寻找满足H(y)=H(x)且y不等于x的数据块y，在计算上是不可行的</p>
</blockquote>
<ol start="2">
<li>请说明公钥证书的产生过程，以及验证公钥证书的方法。</li>
</ol>
<blockquote>
<p>公钥证书由公钥、公钥所有者的用户ID和可信的第三方（用户团体所信任的认证中心CA）签名的整数数据库组成。</p>
<p>1）产生过程：没有签名的证书，包括用户ID和用户公钥，复制两份，一份给CA签名，一份用来产生散列码，再用CA的私钥来加密散列码，构成签名。再把签名加在有CA签名的证书上。</p>
<p>2）验证：接收者利用CA的公钥进行签名解密，获得发送者的散列码。接收者再把得到的未经过签名的证书进行产生散列码，看得到的散列码与获得的散列码是否一样。</p>
</blockquote>
<ol start="3">
<li>目前用来验证用户身份的方法有哪几类？分别举例说明。</li>
</ol>
<blockquote>
<p>常见的身份认证方法：</p>
<ul>
<li><p>基于用户知道什么的身份认证：用户标识（ID）+口令</p>
</li>
<li><p>基于用户拥有什么的身份认证：令牌（磁卡）、智能卡。一次性口令</p>
</li>
<li><p>基于用户是谁的身份认证：</p>
<p>生理特征：指纹、视网膜、脸型、掌纹等</p>
<p>行为特征：声纹、手写签名等</p>
</li>
</ul>
</blockquote>
<ol start="4">
<li>什么是重复攻击？请回答<code>IPSec</code>是如何采用窗口机制抵御重放攻击的。</li>
</ol>
<blockquote>
<p>重放是指被动的捕获数据单元然后按照原来的顺序重新发送。</p>
<p>设定窗口大小为W，若报文序号在N-W的左边，则丢弃；若序号在窗口内，则接收，并将相应的槽标记；若报文序号大于N+1，则接收，标记槽并将窗口右移</p>
</blockquote>
<ol start="5">
<li>简述目前网络攻击的主要方式有哪些？</li>
</ol>
<blockquote>
<ul>
<li>利用系统缺陷</li>
<li>利用用户单薄的安全意识</li>
<li>内部用户的窃密，泄密和破坏</li>
<li>恶意代码</li>
<li>口令攻击和拒绝服务</li>
</ul>
</blockquote>
<ol start="6">
<li>请简述什么是置换算法和替代算法，并分别给出置换算法和替代算法的实例。</li>
</ol>
<blockquote>
<p>置换算法：明文和密文的字母保持相同，但是顺序打乱了。如：栅栏密码</p>
<p>替代算法：明文中的每一个符号被替换为密文中的另一个字符。如：凯撒密码</p>
</blockquote>
<ol start="7">
<li>请简要说明如何通过<code>RSA</code>算法进行消息认证。</li>
</ol>
<blockquote>
<p><code>RSA</code>数字签名算法包括签名算法和验证签名算法。首先用<code>MD5</code>算法对信息作散列计算。签名的过程需用户的私钥，验证过程需要用户的公钥。A用签名算法将字符串形式的消息处理成签名；B用验证签名算法验证签名是否是A对消息的签名，确认是A发送的消息，则消息没有被篡改过，A一定发送过消息。</p>
</blockquote>
<h3 id="三、综合题"><a href="#三、综合题" class="headerlink" title="三、综合题"></a>三、综合题</h3><ol>
<li><code>IPSec</code>和<code>IP</code>协议以及<code>VPN</code>的关系是什么？</li>
</ol>
<blockquote>
<p><code>IPSec</code>是一种由<code>IETF</code>设计的端到端的确保<code>IP</code>层通信安全的机制，不是一个单独的协议，而是一组协议。</p>
<p><code>IPSec</code>是随着<code>IPv6</code>的制定而产生的，后再也增加了对<code>IPv4</code>的支持，在前者中是必须支持的，在后者是可选的</p>
<p><code>IPSec</code>作为一个第三层隧道协议实现了<code>VPN</code>通信，可以为<code>IP</code>网络通信提供透明的安全服务，免遭窃听和篡改，保证数据的完整性和机密性，有效抵御网络攻        击，同时保持易用性。</p>
</blockquote>
<ol start="2">
<li>包过滤防火墙的过滤原理是什么？</li>
</ol>
<blockquote>
<p>​    包过滤防火墙也称分组过滤路由器，又叫网络层防火墙，因为它是工作在网络层的。路由器是一个网络层防火墙，因为包过滤是路由器的固有属性，它一般是通过检查单个包的地址、协议、端口等信息来决定是否允许此数据包通过，有静态和动态两种过滤方式。</p>
<p>​    这种防火墙可以提供内部信息以说明所通过的连接状态和一些数据流的内容，把判断的信息同规则表进行比较，在规则表中定义了各种规则来表名是否同意或拒绝包的通过。包过滤防火墙检查每一条规则直至发现包中的信息与某规则相符。如果没有一条规则能符合，防火墙会使用默认规则（丢弃该包）。在制定数据包过滤规则时，数据包是双向的。</p>
</blockquote>
<ol start="3">
<li><code>VPN</code>有哪三种类型？它们的特点和应用场合分别是什么？</li>
</ol>
<p>（1）远程接入<code>VPN</code></p>
<blockquote>
<ul>
<li>特点</li>
</ul>
<p>远程用户只需通过当地的<code>ISP</code>接入到Internet就可以和公司的<code>VPN</code>网关建立私有的隧道连接，并访问单位内部的资源</p>
<ul>
<li>应用场合</li>
</ul>
<p>单位内部人员在外部网络或家庭网络访问单位内部网络资源</p>
</blockquote>
<p>（2）内联网 <code>VPN</code></p>
<blockquote>
<ul>
<li>特点</li>
</ul>
<p>通过公用网络进行企业内部的互联，是传统专网或其他企业网的扩展或替代形式</p>
<ul>
<li>应用场合</li>
</ul>
<p>企事业机构的总部、分支机构、办事处或移动办公人员可以通过公有网络组成企业内部网络</p>
</blockquote>
<p>（3）外联网<code>VPN</code></p>
<blockquote>
<ul>
<li>特点</li>
</ul>
<p>一种网关对网关的<code>VPN</code>，但它需要有不同协议和设备之间的配合和不同的安全配置</p>
<ul>
<li>应用场合</li>
</ul>
<p>将企业网延伸至供应商、合作伙伴与客户处，在具有共同利益的不同企业间通过公网构筑<code>VPN</code>，使部分资源能够在不同的<code>VPN</code>用户间共享</p>
</blockquote>
<ol start="4">
<li>什么是基于主机的IDS、基于网络的IDS、分布式IDS？</li>
</ol>
<blockquote>
<ul>
<li>基于主机的入侵检测系统‘</li>
</ul>
<p>基于主机的IDS的输入数据来源于系统的审计日志，即在每个要保护的主机上运行一个代理程序，一般只能检测该主机上发生的入侵。它在重要的系统服务器、工作站或用户机器上运行，监视操作系统或系统事件级别的可疑活动（如尝试登陆失败）。此类系统需要定义清楚哪些是不合法的活动，然后把这种安全策略转换成入侵检测规则。</p>
<ul>
<li>基于网络的入侵检测系统</li>
</ul>
<p>基于网络的IDS的输入数据来源于网络的信息流，该类系统一般被动地在网络上监听整个网段上的信息流，通过捕获网络数据包，进行分析，能够检测该网段上发生的网络入侵。</p>
<ul>
<li>分布式IDS</li>
</ul>
<p>一般由多个部件组成，分布在网络的各个部分，完成相应功能，分别进行数据采集，数据分析等。通过中心的控制部件进行数据汇总、分析、产生入侵警报等。在这种结构下，不仅可以检测到针对单独主机的入侵，同时也可以检测到针对整个网络上的主机的入侵。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/21/Android/%E5%9B%A2%E9%98%9F%E4%BD%9C%E4%B8%9A5%E2%80%94%E2%80%94%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%8F%91%E5%B8%83%EF%BC%88Alpha%E7%89%88%E6%9C%AC%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/21/Android/%E5%9B%A2%E9%98%9F%E4%BD%9C%E4%B8%9A5%E2%80%94%E2%80%94%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%8F%91%E5%B8%83%EF%BC%88Alpha%E7%89%88%E6%9C%AC%EF%BC%89/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-21 16:19:02" itemprop="dateCreated datePublished" datetime="2020-11-21T16:19:02+08:00">2020-11-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-22 16:16:53" itemprop="dateModified" datetime="2020-11-22T16:16:53+08:00">2020-11-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="团队作业5——测试与发布（Alpha版本）"><a href="#团队作业5——测试与发布（Alpha版本）" class="headerlink" title="团队作业5——测试与发布（Alpha版本）"></a>团队作业5——测试与发布（Alpha版本）</h1><h2 id="成员"><a href="#成员" class="headerlink" title="成员"></a>成员</h2><p>许灿友、古春波、徐潮松、丘美珠、胡星昱，刘烷婷</p>
<h3 id="修复的BUG"><a href="#修复的BUG" class="headerlink" title="修复的BUG"></a>修复的BUG</h3><h4 id="一、测试中发现的BUG"><a href="#一、测试中发现的BUG" class="headerlink" title="一、测试中发现的BUG"></a>一、测试中发现的BUG</h4><ul>
<li>登录cookie没有保存</li>
<li>注册成功登录不了</li>
<li>创建卡包页面闪退</li>
<li>获取不到卡包内容</li>
<li>创建卡包失败</li>
</ul>
<h3 id="二、已修复BUG"><a href="#二、已修复BUG" class="headerlink" title="二、已修复BUG"></a>二、已修复BUG</h3><ul>
<li>登录cookie没有保存</li>
<li>注册成功登录不了</li>
<li>创建卡包页面闪退</li>
<li>获取不到卡包内容</li>
<li>创建卡包失败</li>
</ul>
<h3 id="三、功能介绍"><a href="#三、功能介绍" class="headerlink" title="三、功能介绍"></a>三、功能介绍</h3><h4 id="登录模块："><a href="#登录模块：" class="headerlink" title="登录模块："></a>登录模块：</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121160134.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121160154.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121160209.png"></p>
<h4 id="个人中心"><a href="#个人中心" class="headerlink" title="个人中心"></a>个人中心</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121160113.png"></p>
<h4 id="创建卡包"><a href="#创建卡包" class="headerlink" title="创建卡包"></a>创建卡包</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121155728.png"></p>
<h4 id="学习页面"><a href="#学习页面" class="headerlink" title="学习页面"></a>学习页面</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121160240.png"></p>
<h4 id="创建卡牌"><a href="#创建卡牌" class="headerlink" title="创建卡牌"></a>创建卡牌</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201121161236.png"></p>
<h3 id="四、环境要求"><a href="#四、环境要求" class="headerlink" title="四、环境要求"></a>四、环境要求</h3><p>Android 手机</p>
<h3 id="五、目前存在的问题"><a href="#五、目前存在的问题" class="headerlink" title="五、目前存在的问题"></a>五、目前存在的问题</h3><ul>
<li>未完成更新卡包功能</li>
<li>未完成随机复习功能</li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/11/18/Android/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/18/Android/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-11-18 22:59:02" itemprop="dateCreated datePublished" datetime="2020-11-18T22:59:02+08:00">2020-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-11-23 17:02:26" itemprop="dateModified" datetime="2020-11-23T17:02:26+08:00">2020-11-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 概述</h1><ol>
<li><strong>计算机网络安全的概念是什么？网络安全有哪几个特征？各特征的含义是什么？</strong></li>
</ol>
<p>答：网络安全：指网络系统的软硬件以及系统中存储和传输的数据受到保护，不因偶然的或恶意的原因而遭到破坏、更改、泄露，网络系统连续可靠正常地运行，网络服务不中断。</p>
<p>网络安全的特征(属性)：</p>
<ul>
<li><p>机密性。保证信息与信息系统不被非授权的用户、实体或过程所获取与使用。</p>
</li>
<li><p>完整性。信息在存储或传输时不被破坏、修改，或不发生信息包丢失、乱序等。</p>
</li>
<li><p>可用性。信息在信息系统可被授权实体正常访问的特性，即授权实体在需要时能够存取所需信息。</p>
</li>
<li><p>可控性。对信息的此处与传播具有完全的控制能力，可以控制信息的流向和行为方式。</p>
</li>
<li><p>真实性。也就是可靠性，指信息的可用度，包括信息的完整性、准确性和发送人身份真实性等方面，它也是信息安全性的基本要素。</p>
</li>
</ul>
<ol start="2">
<li><p><strong>OSI的安全服务和安全机制都有哪几项？安全机制和安全服务是什么关系？</strong></p>
<p>答：OSI的5大类安全服务：鉴别服务、访问控制、数据完整性、数据保密性、不可否认性服务；</p>
</li>
</ol>
<p>OSI的8类特定的安全机制：加密、数字签名、访问控制、数据完整性、鉴别交换、信息流填充、路由控制、公证机制</p>
<p>OSI的5种通用的安全机制：可信功能、安全标签、事件检侧、安全审计跟踪、安全恢复。</p>
<p>安全服务通过安全机制来实现安全策略。</p>
<ol start="3">
<li><strong>什么是网络安全策略？主要包括哪几个方面的策略？</strong></li>
</ol>
<p>答：网络安全策略是网络安全系统的灵魂与核心，是在一个特定的环境里为保证提供一定级别的安全保护所必须遵守的规则集合。</p>
<p>网络安全策略主要包括5个方面：物理安全策略、访问控制策略、防火墙控制策略、信息加密策略、网络安全、管理策略。</p>
<ol start="4">
<li><strong>网络安全体系包括哪几个部分，各部分又由哪些方面组成？</strong></li>
</ol>
<p>答：网络安全体系包括三个组成部分：</p>
<p>网络安全技术体系：物理安全、计算机系统平台安全、通信安全、应用系统安全</p>
<p>网络安全组织体系：国家级、地方</p>
<p>网络安全管理体系：法律、制度、培训管理</p>
<h1 id="第二章-密码学"><a href="#第二章-密码学" class="headerlink" title="第二章 密码学"></a>第二章 密码学</h1><ol>
<li>密码体制五元组是什么?</li>
</ol>
<p>答：明文空间/P，密文空间/C，密钥空间/K，加密算法/E，解密算法/D。</p>
<ol start="2">
<li>从技术上说，一个密码体制的安全性取决于使用的什么的强度？</li>
</ol>
<p>答：密码算法。</p>
<h1 id="第三章-消息鉴别与数字签名"><a href="#第三章-消息鉴别与数字签名" class="headerlink" title="第三章 消息鉴别与数字签名"></a>第三章 消息鉴别与数字签名</h1><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119175733.png"></p>
<ol>
<li>根据鉴别符的生成方式，鉴别函数可以分为哪几类？各自有什么特点？</li>
</ol>
<p>答：根据鉴别符的生成方式，鉴别函数可以分成以下几类：</p>
<p>1）基于消息加密方式的鉴别：以整个消息的密文作为鉴别符。此方法需要对整个消息进行加密，且要求消息具有一定的结构或格式。</p>
<p>2）基于消息鉴别码（MAC）的鉴别方式：发送方利用公开函数+密钥产生一个固定长度的值作为鉴别标识，并与消息一同发送。此方法需要专门的消息鉴别函数。</p>
<p>3）基于Hash函数的鉴别方式：采用hash函数将任意长度的消息映射为一个定长的散列值，以此散列值为鉴别码。</p>
<p>此方法必须与加密结合起来才具有安全性，此方法中哈希函数和加密算法都可选现成的函数，较易实现。</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201118173248.png"></p>
<h1 id="第四章-身份认证"><a href="#第四章-身份认证" class="headerlink" title="第四章 身份认证"></a>第四章 身份认证</h1><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201120213856.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119101729.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119180741.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201119180753.png"></p>
<h1 id="试卷"><a href="#试卷" class="headerlink" title="试卷"></a>试卷</h1><h2 id="网络安全复习题"><a href="#网络安全复习题" class="headerlink" title="网络安全复习题"></a>网络安全复习题</h2><ol>
<li>简述安全Hash函数要求满足的六个性质。</li>
</ol>
<blockquote>
<p>（1）H能够应用于任何大小的模块</p>
<p>（2）H产生固定长度的输出</p>
<p>（3）对于任何给定的数据块x，H都能够相对容易地计算出H(x)，这样就使得硬件和软件实现变得切实可行</p>
<p>（4）对于任何给定的值h来说，寻找满足H(x) = h的数据块x，在计算上是不可行的，</p>
<p>（5）对于给定的数据块x来说，寻找满足H(y)=H(x)且y不等于x的数据块y，在计算上是不可行的</p>
</blockquote>
<ol start="2">
<li>请说明公钥证书的产生过程，以及验证公钥证书的方法。</li>
</ol>
<blockquote>
<p>公钥证书由公钥、公钥所有者的用户ID和可信的第三方（用户团体所信任的认证中心CA）签名的整数数据库组成。</p>
<p>1）产生过程：没有签名的证书，包括用户ID和用户公钥，复制两份，一份给CA签名，一份用来产生散列码，再用CA的私钥来加密散列码，构成签名。再把签名加在有CA签名的证书上。</p>
<p>2）验证：接收者利用CA的公钥进行签名解密，获得发送者的散列码。接收者再把得到的未经过签名的证书进行产生散列码，看得到的散列码与获得的散列码是否一样。</p>
</blockquote>
<ol start="3">
<li>目前用来验证用户身份的方法有哪几类？分别举例说明。</li>
</ol>
<blockquote>
<p>常见的身份认证方法：</p>
<ul>
<li><p>基于用户知道什么的身份认证：用户标识（ID）+口令</p>
</li>
<li><p>基于用户拥有什么的身份认证：令牌（磁卡）、智能卡。一次性口令</p>
</li>
<li><p>基于用户是谁的身份认证：</p>
<p>生理特征：指纹、视网膜、脸型、掌纹等</p>
<p>行为特征：声纹、手写签名等</p>
</li>
</ul>
</blockquote>
<ol start="4">
<li>什么是重复攻击？请回答<code>IPSec</code>是如何采用窗口机制抵御重放攻击的。</li>
</ol>
<blockquote>
<p>重放是指被动的捕获数据单元然后按照原来的顺序重新发送。</p>
<p>设定窗口大小为W，若报文序号在N-W的左边，则丢弃；若序号在窗口内，则接收，并将相应的槽标记；若报文序号大于N+1，则接收，标记槽并将窗口右移</p>
</blockquote>
<ol start="5">
<li>简述目前网络攻击的主要方式有哪些？</li>
</ol>
<blockquote>
<ul>
<li>利用系统缺陷</li>
<li>利用用户单薄的安全意识</li>
<li>内部用户的窃密，泄密和破坏</li>
<li>恶意代码</li>
<li>口令攻击和拒绝服务</li>
</ul>
</blockquote>
<ol start="6">
<li>请简述什么是置换算法和替代算法，并分别给出置换算法和替代算法的实例。</li>
</ol>
<blockquote>
<p>置换算法：明文和密文的字母保持相同，但是顺序打乱了。如：栅栏密码</p>
<p>替代算法：明文中的每一个符号被替换为密文中的另一个字符。如：凯撒密码</p>
</blockquote>
<ol start="7">
<li>请简要说明如何通过<code>RSA</code>算法进行消息认证。</li>
</ol>
<blockquote>
</blockquote>
<h3 id="三、综合题"><a href="#三、综合题" class="headerlink" title="三、综合题"></a>三、综合题</h3><ol>
<li><code>IPSec</code>和<code>IP</code>协议以及<code>VPN</code>的关系是什么？</li>
</ol>
<blockquote>
<p><code>IPSec</code>是一种由<code>IETF</code>设计的端到端的确保<code>IP</code>层通信安全的机制，不是一个单独的协议，而是一组协议。</p>
<p><code>IPSec</code>是随着<code>IPv6</code>的制定而产生的，后再也增加了对<code>IPv4</code>的支持，在前者中是必须支持的，在后者是可选的</p>
<p><code>IPSec</code>作为一个第三层隧道协议实现了<code>VPN</code>通信，可以为<code>IP</code>网络通信提供透明的安全服务，免遭窃听和篡改，保证数据的完整性和机密性，有效抵御网络攻        击，同时保持易用性。</p>
</blockquote>
<ol start="2">
<li>包过滤防火墙的过滤原理是什么？</li>
</ol>
<blockquote>
<p>​    包过滤防火墙也称分组过滤路由器，又叫网络层防火墙，因为它是工作在网络层的。路由器是一个网络层防火墙，因为包过滤是路由器的固有属性，它一般是通过检查单个包的地址、协议、端口等信息来决定是否允许此数据包通过，有静态和动态两种过滤方式。</p>
<p>​    这种防火墙可以提供内部信息以说明所通过的连接状态和一些数据流的内容，把判断的信息同规则表进行比较，在规则表中定义了各种规则来表名是否同意或拒绝包的通过。包过滤防火墙检查每一条规则直至发现包中的信息与某规则相符。如果没有一条规则能符合，防火墙会使用默认规则（丢弃该包）。在制定数据包过滤规则时，数据包是双向的。</p>
</blockquote>
<ol start="3">
<li><code>VPN</code>有哪三种类型？它们的特点和应用场合分别是什么？</li>
</ol>
<p>（1）远程接入<code>VPN</code></p>
<blockquote>
<ul>
<li>特点</li>
</ul>
<p>远程用户只需通过当地的<code>ISP</code>接入到Internet就可以和公司的<code>VPN</code>网关建立私有的隧道连接，并访问单位内部的资源</p>
<ul>
<li>应用场合</li>
</ul>
<p>单位内部人员在外部网络或家庭网络访问单位内部网络资源</p>
</blockquote>
<p>（2）内联网 <code>VPN</code></p>
<blockquote>
<ul>
<li>特点</li>
</ul>
<p>通过公用网络进行企业内部的互联，是传统专网或其他企业网的扩展或替代形式</p>
<ul>
<li>应用场合</li>
</ul>
<p>企事业机构的总部、分支机构、办事处或移动办公人员可以通过公有网络组成企业内部网络</p>
</blockquote>
<p>（3）外联网<code>VPN</code></p>
<blockquote>
<ul>
<li>特点</li>
</ul>
<p>一种网关对网关的<code>VPN</code>，但它需要有不同协议和设备之间的配合和不同的安全配置</p>
<ul>
<li>应用场合</li>
</ul>
<p>将企业网延伸至供应商、合作伙伴与客户处，在具有共同利益的不同企业间通过公网构筑<code>VPN</code>，使部分资源能够在不同的<code>VPN</code>用户间共享</p>
</blockquote>
<ol start="4">
<li>什么是基于主机的IDS、基于网络的IDS、分布式IDS？</li>
</ol>
<blockquote>
<ul>
<li>基于主机的入侵检测系统‘</li>
</ul>
<p>基于主机的IDS的输入数据来源于系统的审计日志，即在每个要保护的主机上运行一个代理程序，一般只能检测该主机上发生的入侵。它在重要的系统服务器、工作站或用户机器上运行，监视操作系统或系统事件级别的可疑活动（如尝试登陆失败）。此类系统需要定义清楚哪些是不合法的活动，然后把这种安全策略转换成入侵检测规则。</p>
<ul>
<li>基于网络的入侵检测系统</li>
</ul>
<p>基于网络的IDS的输入数据来源于网络的信息流，该类系统一般被动地在网络上监听整个网段上的信息流，通过捕获网络数据包，进行分析，能够检测该网段上发生的网络入侵。</p>
<ul>
<li>分布式IDS</li>
</ul>
<p>一般由多个部件组成，分布在网络的各个部分，完成相应功能，分别进行数据采集，数据分析等。通过中心的控制部件进行数据汇总、分析、产生入侵警报等。在这种结构下，不仅可以检测到针对单独主机的入侵，同时也可以检测到针对整个网络上的主机的入侵。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/25/Android/SunFlower%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/25/Android/SunFlower%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">SunFlower源码解析</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-25 20:45:44" itemprop="dateCreated datePublished" datetime="2020-10-25T20:45:44+08:00">2020-10-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-27 21:17:53" itemprop="dateModified" datetime="2020-10-27T21:17:53+08:00">2020-10-27</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote>
<p>如今使用Android JetPack组件的开发环境越来越成熟，Kotlin距离被官宣Android开发第一语言也已经过去2年了，我们有理由相信未来开发的主流就是使用JetPack架构组件开发。</p>
<p>那么怎样标准的使用JetPack去开发应用呢？</p>
<p>这个谷歌已经给我们设计好了模板，那就是<a target="_blank" rel="noopener" href="https://github.com/android/sunflower"><strong>sunflower</strong></a>项目。</p>
<p>只要我们学会了模板里面的用法，相信你离自己写一个Jetpack项目也不远了，</p>
<p>本文主要对项目的逻辑进行说明，便于读者更加高速的理解JetPack标准架构的开发。</p>
</blockquote>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><h4 id="知识点储备"><a href="#知识点储备" class="headerlink" title="知识点储备"></a>知识点储备</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025225813.png" alt="MVVM"></p>
<ul>
<li>语言：Kotlin</li>
<li>架构：MVVM</li>
<li>组件：ViewModel，LiveData，Databinding，Hilt，Room，WorkManager，Navigation</li>
</ul>
<blockquote>
<p>组件的用法详情建议看官方文档。</p>
</blockquote>
<h4 id="下载项目"><a href="#下载项目" class="headerlink" title="下载项目"></a>下载项目</h4><blockquote>
<p>在<a target="_blank" rel="noopener" href="https://github.com/android/sunflower">github传送</a>克隆或者下载zip包到本地上。</p>
</blockquote>
<p>下载完运行程序会有以下界面：</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025210453.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025210520.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025210532.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201026221028.png"></p>
<blockquote>
<p>注意：这个是一个RecycleView显示图片的界面，但是访问这个获取图片的api需要权限，这里是我们拉下来本地运行的，所以api没有权限访问不了，因此这个界面是空的。</p>
<p>捕捉异常：</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201026221306.png"></p>
<p>还要注意的一点是，这个fragment是在<code>PlantDetailFragment</code>里跳转过去的，因为这里设置了没有图片就隐藏跳转的按钮，只要把这一行代码删了就可以跳转到这个界面了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    app:isGone&#x3D;&quot;@&#123;!viewModel.hasValidUnsplashKey()&#125;&quot;--&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="一、Layout篇"><a href="#一、Layout篇" class="headerlink" title="一、Layout篇"></a>一、Layout篇</h3><p>这是一个典型的单Activity多fragment界面的程序，用项目中的名称来说，这个项目只有一个GardenActivity，在GardenActivity上有多个4个fragment。</p>
<p>这是GardenActivity的布局代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;layout</span><br><span class="line">    xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.fragment.app.FragmentContainerView</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;nav_host&quot;</span><br><span class="line">        android:name&#x3D;&quot;androidx.navigation.fragment.NavHostFragment&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;match_parent&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;match_parent&quot;</span><br><span class="line">        app:defaultNavHost&#x3D;&quot;true&quot;</span><br><span class="line">        app:navGraph&#x3D;&quot;@navigation&#x2F;nav_garden&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;layout&gt;</span><br></pre></td></tr></table></figure>



<p>这里对fragment的操作的就涉及到了JetPack组件中的Navigation，Navigation将fragment联系在一起,这是Navigation的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;navigation xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">    xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line">    xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">    app:startDestination&#x3D;&quot;@id&#x2F;view_pager_fragment&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;fragment</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;view_pager_fragment&quot;</span><br><span class="line">        android:name&#x3D;&quot;com.google.samples.apps.sunflower.HomeViewPagerFragment&quot;</span><br><span class="line">        tools:layout&#x3D;&quot;@layout&#x2F;fragment_view_pager&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;action</span><br><span class="line">                android:id&#x3D;&quot;@+id&#x2F;action_view_pager_fragment_to_plant_detail_fragment&quot;</span><br><span class="line">                app:destination&#x3D;&quot;@id&#x2F;plant_detail_fragment&quot;</span><br><span class="line">                app:enterAnim&#x3D;&quot;@anim&#x2F;slide_in_right&quot;</span><br><span class="line">                app:exitAnim&#x3D;&quot;@anim&#x2F;slide_out_left&quot;</span><br><span class="line">                app:popEnterAnim&#x3D;&quot;@anim&#x2F;slide_in_left&quot;</span><br><span class="line">                app:popExitAnim&#x3D;&quot;@anim&#x2F;slide_out_right&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;fragment&gt;</span><br><span class="line"></span><br><span class="line">    &lt;fragment</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;plant_detail_fragment&quot;</span><br><span class="line">        android:name&#x3D;&quot;com.google.samples.apps.sunflower.PlantDetailFragment&quot;</span><br><span class="line">        android:label&#x3D;&quot;@string&#x2F;plant_details_title&quot;</span><br><span class="line">        tools:layout&#x3D;&quot;@layout&#x2F;fragment_plant_detail&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;action</span><br><span class="line">            android:id&#x3D;&quot;@+id&#x2F;action_plant_detail_fragment_to_gallery_fragment&quot;</span><br><span class="line">            app:destination&#x3D;&quot;@id&#x2F;gallery_fragment&quot;</span><br><span class="line">            app:enterAnim&#x3D;&quot;@anim&#x2F;slide_in_right&quot;</span><br><span class="line">            app:exitAnim&#x3D;&quot;@anim&#x2F;slide_out_left&quot;</span><br><span class="line">            app:popEnterAnim&#x3D;&quot;@anim&#x2F;slide_in_left&quot;</span><br><span class="line">            app:popExitAnim&#x3D;&quot;@anim&#x2F;slide_out_right&quot; &#x2F;&gt;</span><br><span class="line">        &lt;argument</span><br><span class="line">            android:name&#x3D;&quot;plantId&quot;</span><br><span class="line">            app:argType&#x3D;&quot;string&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;fragment&gt;</span><br><span class="line"></span><br><span class="line">    &lt;fragment</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;gallery_fragment&quot;</span><br><span class="line">        android:name&#x3D;&quot;com.google.samples.apps.sunflower.GalleryFragment&quot;</span><br><span class="line">        android:label&#x3D;&quot;@string&#x2F;plant_details_title&quot;</span><br><span class="line">        tools:layout&#x3D;&quot;@layout&#x2F;fragment_gallery&quot;&gt;</span><br><span class="line">        &lt;argument</span><br><span class="line">            android:name&#x3D;&quot;plantName&quot;</span><br><span class="line">            app:argType&#x3D;&quot;string&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;fragment&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;navigation&gt;</span><br></pre></td></tr></table></figure>



<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025211235.png" alt="Navigation视图"></p>
<p>到目前为止，这只是Activity的一个局部布局，完整的布局还是Toolbar+TabLayout+ViewPager2+fragment结构。这4个界面的关系就是下图所示</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025212741.png"></p>
<h2 id="二、Kotlin篇"><a href="#二、Kotlin篇" class="headerlink" title="二、Kotlin篇"></a>二、Kotlin篇</h2><blockquote>
<p>上面讲述了sunflower的基本布局，相信你对它的大致布局已经有了了解，在这一节中将讲述fragment中的代码功能。</p>
</blockquote>
<h4 id="2-1-PlantListFragment"><a href="#2-1-PlantListFragment" class="headerlink" title="2.1 PlantListFragment"></a>2.1 PlantListFragment</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025210520.png"></p>
<blockquote>
<p>看到这个界面，你首先会想到什么？</p>
</blockquote>
<p>在这个界面中，就只有一个RecycleView，想到的当然是它访问网络获取数据显示到UI界面的流程。</p>
<p>思想跟使用 MVP+RxJava+Retrofit 组合是基本一致的，无非就是调用接口，获取数据，回调主线程更新UI。</p>
<p>接下来，让我们来看看它是怎么走完这个流程的。</p>
<blockquote>
<p>从哪个部分开始呢？UI？还是网络？</p>
</blockquote>
<p>我们需要先明确一个点，MVVM架构是数据驱动更新界面,而我们平时使用的MVP架构是UI驱动，也就是使用MVP时，我们是需要手动的更新UI，而在使用MVVM时，当数据改变时，UI会自动更新。</p>
<p>那么自然而然的，一切的源头都从数据的来源开始说起，这个时候，储备的知识点WorkManager要用上了，看代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class SeedDatabaseWorker(</span><br><span class="line">    context: Context,</span><br><span class="line">    workerParams: WorkerParameters</span><br><span class="line">) : CoroutineWorker(context, workerParams) &#123;  &#x2F;&#x2F;用 CoroutineWorker 处理线程  使用协程 运行默认的 Dispatcher（子线程）</span><br><span class="line">    override suspend fun doWork(): Result &#x3D; coroutineScope &#123;  &#x2F;&#x2F;doWork()是一个挂起函数,suspend 关键字声明挂起函数</span><br><span class="line">                                                            &#x2F;&#x2F; doWork() 方法在 WorkManager 提供的后台线程上同步运行</span><br><span class="line">        try &#123;</span><br><span class="line">            &#x2F;&#x2F;获取ApplicationContext，通过ApplicationContext获取AssetManager实例</span><br><span class="line">            &#x2F;&#x2F;调用AssetManager实例的open方法,打开并读取已与应用程序捆绑在一起的原始文件作为简单的字节流</span><br><span class="line">            applicationContext.assets.open(PLANT_DATA_FILENAME).use &#123; inputStream -&gt;</span><br><span class="line">                JsonReader(inputStream.reader()).use &#123; jsonReader -&gt;</span><br><span class="line">                    val plantType &#x3D; object : TypeToken&lt;List&lt;Plant&gt;&gt;() &#123;&#125;.type</span><br><span class="line">                    val plantList: List&lt;Plant&gt; &#x3D; Gson().fromJson(jsonReader, plantType) &#x2F;&#x2F;解析数据，放到List集合中，类型是Plant实体类</span><br><span class="line"></span><br><span class="line">                    val database &#x3D; AppDatabase.getInstance(applicationContext) &#x2F;&#x2F;创建数据库</span><br><span class="line">                    database.plantDao().insertAll(plantList) &#x2F;&#x2F;获取数据存放进数据库</span><br><span class="line"></span><br><span class="line">                    Result.success()  &#x2F;&#x2F;返回成功的结果</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125; catch (ex: Exception) &#123;</span><br><span class="line">            Log.e(TAG, &quot;Error seeding database&quot;, ex)</span><br><span class="line">            Result.failure()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    companion object &#123;</span><br><span class="line">        private const val TAG &#x3D; &quot;SeedDatabaseWorker&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这里使用了WorkManager，则表示了它是一个后台任务。WorkManager配合Kotlin协程完成线程回调，这里注意一个点，这里资源的来源不是网络也不是数据库，而是调用了AssetManager实例获取本地的文件资源，位置如图所示：</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025230211.png"></p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025231205.png" alt="部分内容"></p>
<p>这里存放了一个json文件，通过<code>applicationContext.assets</code>获取AssetManager实例，在通过这个实例打开这个文件<code>open(PLANT_DATA_FILENAME)</code>，这里的<code>PLANT_DATA_FILENAME</code>常量也就是文件名，如图：</p>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201025230503.png"></p>
<p>获取成功后的数据又保存进了数据库，以便后续的调用。</p>
<blockquote>
<p> 这里的知识主要就是WorkManager使用，这部分代码就是要告诉你，WorkManager可以后台处理任务，具体到这个例子，就是后台加载了json文件的数据再存放进数据库里。</p>
</blockquote>
<hr>
<p>看完了上面的代码，发现数据不仅能从网络和数据库中获取，也能直接访问资源文件获取。接下来我们来看看我们使用最后的获取数据的方法——从网络层中获取。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">interface UnsplashService &#123;</span><br><span class="line"></span><br><span class="line">    @GET(&quot;search&#x2F;photos&quot;)</span><br><span class="line">    suspend fun searchPhotos(    &#x2F;&#x2F;挂起函数</span><br><span class="line">        @Query(&quot;query&quot;) query: String, &#x2F;&#x2F;访问地址的参数</span><br><span class="line">        @Query(&quot;page&quot;) page: Int,</span><br><span class="line">        @Query(&quot;per_page&quot;) perPage: Int,</span><br><span class="line">        @Query(&quot;client_id&quot;) clientId: String &#x3D; BuildConfig.UNSPLASH_ACCESS_KEY  &#x2F;&#x2F;若有id，这不为空，在界面显示图片</span><br><span class="line">                                                                                  &#x2F;&#x2F;为空时不显示点击图片的按钮，这个就是GalleryFragment中第一次运行按钮没显示出来的逻辑代码</span><br><span class="line">    ): UnsplashSearchResponse &#x2F;&#x2F;返回 UnsplashSearchResponse 对象</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    companion object &#123;</span><br><span class="line">        private const val BASE_URL &#x3D; &quot;https:&#x2F;&#x2F;api.unsplash.com&#x2F;&quot;</span><br><span class="line"></span><br><span class="line">        fun create(): UnsplashService &#123; &#x2F;&#x2F;返回一个UnsplashService实例</span><br><span class="line">            val logger &#x3D; HttpLoggingInterceptor().apply &#123; level &#x3D; Level.BASIC &#125;</span><br><span class="line"></span><br><span class="line">            val client &#x3D; OkHttpClient.Builder()</span><br><span class="line">                .addInterceptor(logger)</span><br><span class="line">                .build()</span><br><span class="line"></span><br><span class="line">            return Retrofit.Builder()       &#x2F;&#x2F;设置Retrofit</span><br><span class="line">                .baseUrl(BASE_URL)</span><br><span class="line">                .client(client)</span><br><span class="line">                .addConverterFactory(GsonConverterFactory.create())</span><br><span class="line">                .build()</span><br><span class="line">                .create(UnsplashService::class.java)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用过retrofit的读者不难看出，上面的<code>create()</code>方法其实就是对Retrofit的一个封装，不过我们平时用的都是传入一个ServiceClass参数，这里是直接传入这个方法中。接下来就可以使用<code>searchPhotos</code>方法去访问网络了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;图片来源</span><br><span class="line">class UnsplashPagingSource(</span><br><span class="line">    private val service: UnsplashService,</span><br><span class="line">    private val query: String</span><br><span class="line">) : PagingSource&lt;Int, UnsplashPhoto&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;load() 函数来从数据源获取分页数据，并返回加载好的数据和加载前后页的参数信息</span><br><span class="line">    override suspend fun load(params: LoadParams&lt;Int&gt;): LoadResult&lt;Int, UnsplashPhoto&gt; &#123;  &#x2F;&#x2F;返回对象为LoadResult类型，Int表示使用页码加载</span><br><span class="line">        val page &#x3D; params.key ?: UNSPLASH_STARTING_PAGE_INDEX &#x2F;&#x2F;params.key为空page就设置默认值1</span><br><span class="line">        return try &#123;</span><br><span class="line">            val response &#x3D; service.searchPhotos(query, page, params.loadSize) &#x2F;&#x2F;访问网络</span><br><span class="line">            val photos &#x3D; response.results &#x2F;&#x2F;赋值给对象</span><br><span class="line">            LoadResult.Page(                 &#x2F;&#x2F;设置网络上获取的 数据</span><br><span class="line">                data &#x3D; photos,  &#x2F;&#x2F;加载好的数据</span><br><span class="line">                prevKey &#x3D; if (page &#x3D;&#x3D; UNSPLASH_STARTING_PAGE_INDEX) null else page - 1, &#x2F;&#x2F;这一页的数据为空，查找上一页</span><br><span class="line">                nextKey &#x3D; if (page &#x3D;&#x3D; response.totalPages) null else page + 1  &#x2F;&#x2F;加载下一页的key 如果传null就说明到底了</span><br><span class="line">            )</span><br><span class="line">        &#125; catch (exception: Exception) &#123;</span><br><span class="line">            System.out.println(&quot;获取图片失败&quot;)</span><br><span class="line">            LoadResult.Error(exception)  &#x2F;&#x2F; 获取数据失败</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这个类中，使用挂起函数<code>load(params: LoadParams&lt;Int&gt;)</code>去调用了<code>UnsplashService</code>类中的<code>searchPhotos(query, page, params.loadSize)</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/24/Android/%E6%9D%BF%E6%A0%97%E6%8A%80%E6%9C%AF%E6%A0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/24/Android/%E6%9D%BF%E6%A0%97%E6%8A%80%E6%9C%AF%E6%A0%88/" class="post-title-link" itemprop="url">板栗技术栈</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-24 11:38:14" itemprop="dateCreated datePublished" datetime="2020-10-24T11:38:14+08:00">2020-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-25 20:46:52" itemprop="dateModified" datetime="2020-10-25T20:46:52+08:00">2020-10-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="jetPack组件"><a href="#jetPack组件" class="headerlink" title="jetPack组件"></a>jetPack组件</h2><h3 id="ViewModel"><a href="#ViewModel" class="headerlink" title="ViewModel"></a>ViewModel</h3><h3 id="LiveData"><a href="#LiveData" class="headerlink" title="LiveData"></a>LiveData</h3><h3 id="DataBinDing"><a href="#DataBinDing" class="headerlink" title="DataBinDing"></a>DataBinDing</h3><h3 id="Paging"><a href="#Paging" class="headerlink" title="Paging"></a>Paging</h3><h3 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h3><h3 id="Room"><a href="#Room" class="headerlink" title="Room"></a>Room</h3><h3 id="Hilt"><a href="#Hilt" class="headerlink" title="Hilt"></a>Hilt</h3><h2 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h2><h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/20/Android/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/20/Android/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="post-title-link" itemprop="url">多线程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-20 22:59:08" itemprop="dateCreated datePublished" datetime="2020-10-20T22:59:08+08:00">2020-10-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-10-21 23:12:20" itemprop="dateModified" datetime="2020-10-21T23:12:20+08:00">2020-10-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h2 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h2><h2 id="阻塞队列"><a href="#阻塞队列" class="headerlink" title="阻塞队列"></a>阻塞队列</h2><h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/19/Android/mvp%E8%A7%A3%E5%86%B3%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/19/Android/mvp%E8%A7%A3%E5%86%B3%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/" class="post-title-link" itemprop="url">mvp解决内存泄漏</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-10-19 16:31:54 / 修改时间：16:31:55" itemprop="dateCreated datePublished" datetime="2020-10-19T16:31:54+08:00">2020-10-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/17/Android/Mvp-jetpack%E7%BB%84%E5%90%88%E5%BA%94%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/17/Android/Mvp-jetpack%E7%BB%84%E5%90%88%E5%BA%94%E7%94%A8/" class="post-title-link" itemprop="url">Mvp+jetpack组合应用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-17 10:15:33" itemprop="dateCreated datePublished" datetime="2020-10-17T10:15:33+08:00">2020-10-17</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/15/Android/RxJava%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/15/Android/RxJava%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">RxJava使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-15 21:14:13" itemprop="dateCreated datePublished" datetime="2020-10-15T21:14:13+08:00">2020-10-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/14/Android/Retrofit%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/suoda.jpg">
      <meta itemprop="name" content="Yuki">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yuki-r Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/14/Android/Retrofit%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/" class="post-title-link" itemprop="url">Retrofit基本使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-10-14 17:48:10 / 修改时间：21:48:14" itemprop="dateCreated datePublished" datetime="2020-10-14T17:48:10+08:00">2020-10-14</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​    <code>Retrofit</code>是Square公司开发的一款针对Android网络请求的框架,遵循Restful设计风格,底层基于OkHttp，获得许多使用者的好评，也是现在的主流网络请求框架，使用好各种框架有利于我们更快的实现项目，本文主要讲解Retrofit网络框架的使用以及各种注解的注释。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://square.github.io/retrofit/">Retrofit官方文档</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/square/retrofit">Retrofit Github</a></li>
</ul>
<p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201014213936.png" alt="目录"></p>
<h2 id="一、使用"><a href="#一、使用" class="headerlink" title="一、使用"></a>一、使用</h2><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201014175443.png" alt="具体使用"></p>
<blockquote>
<p>以下以访问词霸api为例，URL为“<a target="_blank" rel="noopener" href="http://fy.iciba.com/ajax.php?a=fy&amp;f=auto&amp;t=auto&amp;w=hello%20world%E2%80%9D">http://fy.iciba.com/ajax.php?a=fy&amp;f=auto&amp;t=auto&amp;w=hello%20world”</a></p>
</blockquote>
<h3 id="1-添加依赖"><a href="#1-添加依赖" class="headerlink" title="1.添加依赖"></a>1.添加依赖</h3><ul>
<li>在app包下的<em>build.gradle</em>中</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;</span><br><span class="line">    &#x2F;&#x2F; Retrofit库</span><br><span class="line">    implementation &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39; &#x2F;&#x2F;GSON解析</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>添加 网络权限</strong></li>
</ul>
<p>AndroidManifest.xml*</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name&#x3D;&quot;android.permission.INTERNET&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-创建-接收服务器返回数据-的类"><a href="#2-创建-接收服务器返回数据-的类" class="headerlink" title="2.创建 接收服务器返回数据 的类"></a>2.创建 接收服务器返回数据 的类</h3><blockquote>
<p>使用GsonFormat生成对应的Java Bean类</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;status&quot;:1,</span><br><span class="line">  &quot;content&quot;:&#123;</span><br><span class="line">    &quot;from&quot;:&quot;en&quot;,</span><br><span class="line">    &quot;to&quot;:&quot;zh-CN&quot;,</span><br><span class="line">    &quot;vendor&quot;:&quot;ciba&quot;,</span><br><span class="line">    &quot;out&quot;:&quot; 你好，世界&quot;,</span><br><span class="line">    &quot;ciba_use&quot;:&quot;来自机器翻译。&quot;,</span><br><span class="line">    &quot;ciba_out&quot;:&quot;&quot;,</span><br><span class="line">    &quot;err_no&quot;:0</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">public class TranslationBean &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * status : 1</span><br><span class="line">     * content : &#123;&quot;from&quot;:&quot;en&quot;,&quot;to&quot;:&quot;zh-CN&quot;,&quot;vendor&quot;:&quot;ciba&quot;,&quot;out&quot;:&quot; 你好，世界&quot;,&quot;ciba_use&quot;:&quot;来自机器翻译。&quot;,&quot;ciba_out&quot;:&quot;&quot;,&quot;err_no&quot;:0&#125;</span><br><span class="line">     *&#x2F;</span><br><span class="line"></span><br><span class="line">    private int status;</span><br><span class="line">    private ContentBean content;</span><br><span class="line"></span><br><span class="line">    public int getStatus() &#123;</span><br><span class="line">        return status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setStatus(int status) &#123;</span><br><span class="line">        this.status &#x3D; status;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public ContentBean getContent() &#123;</span><br><span class="line">        return content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setContent(ContentBean content) &#123;</span><br><span class="line">        this.content &#x3D; content;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class ContentBean &#123;</span><br><span class="line">        &#x2F;**</span><br><span class="line">         * from : en</span><br><span class="line">         * to : zh-CN</span><br><span class="line">         * vendor : ciba</span><br><span class="line">         * out :  你好，世界</span><br><span class="line">         * ciba_use : 来自机器翻译。</span><br><span class="line">         * ciba_out :</span><br><span class="line">         * err_no : 0</span><br><span class="line">         *&#x2F;</span><br><span class="line"></span><br><span class="line">        private String from;</span><br><span class="line">        private String to;</span><br><span class="line">        private String vendor;</span><br><span class="line">        private String out;</span><br><span class="line">        private String ciba_use;</span><br><span class="line">        private String ciba_out;</span><br><span class="line">        private int err_no;</span><br><span class="line"></span><br><span class="line">        public String getFrom() &#123;</span><br><span class="line">            return from;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setFrom(String from) &#123;</span><br><span class="line">            this.from &#x3D; from;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getTo() &#123;</span><br><span class="line">            return to;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setTo(String to) &#123;</span><br><span class="line">            this.to &#x3D; to;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getVendor() &#123;</span><br><span class="line">            return vendor;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setVendor(String vendor) &#123;</span><br><span class="line">            this.vendor &#x3D; vendor;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getOut() &#123;</span><br><span class="line">            return out;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setOut(String out) &#123;</span><br><span class="line">            this.out &#x3D; out;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getCiba_use() &#123;</span><br><span class="line">            return ciba_use;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setCiba_use(String ciba_use) &#123;</span><br><span class="line">            this.ciba_use &#x3D; ciba_use;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public String getCiba_out() &#123;</span><br><span class="line">            return ciba_out;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setCiba_out(String ciba_out) &#123;</span><br><span class="line">            this.ciba_out &#x3D; ciba_out;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public int getErr_no() &#123;</span><br><span class="line">            return err_no;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void setErr_no(int err_no) &#123;</span><br><span class="line">            this.err_no &#x3D; err_no;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     &#x2F;&#x2F;定义 输出返回数据 的方法</span><br><span class="line">    public void show() &#123;</span><br><span class="line">        Log.d(&quot;翻译：&quot;, content.out );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-创建-用于描述网络请求-的接口"><a href="#3-创建-用于描述网络请求-的接口" class="headerlink" title="3.创建 用于描述网络请求 的接口"></a>3.创建 用于描述网络请求 的接口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class TransApi &#123;</span><br><span class="line">    </span><br><span class="line">    public interface ToTrans &#123;</span><br><span class="line"></span><br><span class="line">        @GET(&quot;ajax.php?a&#x3D;fy&amp;f&#x3D;auto&amp;t&#x3D;auto&amp;w&#x3D;hi%20world&quot;)</span><br><span class="line">        Call&lt;TranslationBean&gt; getCall();</span><br><span class="line">        &#x2F;&#x2F; @GET注解的作用:采用Get方法发送网络请求</span><br><span class="line">        &#x2F;&#x2F; getCall() &#x3D; 接收网络请求数据的方法</span><br><span class="line">        &#x2F;&#x2F; 其中返回类型为Call&lt;*&gt;，*是接收数据的类（即上面定义的TranslationBean类），返回这个类的对象</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-创建-Retrofit-实例"><a href="#4-创建-Retrofit-实例" class="headerlink" title="4.创建 Retrofit 实例"></a>4.创建 Retrofit 实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Retrofit retrofit &#x3D; new Retrofit.Builder()</span><br><span class="line">                    .baseUrl(&quot;http:&#x2F;&#x2F;fy.iciba.com&#x2F;&quot;) &#x2F;&#x2F;网络请求的url地址</span><br><span class="line">                    .addConverterFactory(GsonConverterFactory.create()) &#x2F;&#x2F;数据解析器，解析json</span><br><span class="line">                    .build();</span><br></pre></td></tr></table></figure>



<h3 id="5-创建-网络请求接口实例"><a href="#5-创建-网络请求接口实例" class="headerlink" title="5.创建 网络请求接口实例"></a>5.创建 网络请求接口实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建 网络请求接口 的实例</span><br><span class="line">      TransApi request &#x3D; retrofit.create(TransApi.class);</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F;对 发送请求 进行封装</span><br><span class="line">       Call&lt;TranslationBean&gt; call &#x3D; request.getCall();</span><br></pre></td></tr></table></figure>

<h3 id="6-发送网络请求"><a href="#6-发送网络请求" class="headerlink" title="6.发送网络请求"></a>6.发送网络请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;发送网络请求(异步)</span><br><span class="line">        call.enqueue(new Callback&lt;TranslationBean&gt;() &#123;</span><br><span class="line">            &#x2F;&#x2F;请求成功时回调</span><br><span class="line">            @Override</span><br><span class="line">            public void onResponse(Call&lt;TranslationBean&gt; call, Response&lt;TranslationBean&gt; response) &#123;</span><br><span class="line">                &#x2F;&#x2F;请求处理,输出结果</span><br><span class="line">                response.body().show();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;请求失败时候的回调</span><br><span class="line">            @Override</span><br><span class="line">            public void onFailure(Call&lt;TranslationBean&gt; call, Throwable throwable) &#123;</span><br><span class="line">                System.out.println(&quot;连接失败&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 发送网络请求（同步）</span><br><span class="line">        try &#123;</span><br><span class="line">            Response&lt;TranslationBean&gt; response &#x3D; call.execute();</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-处理返回数据"><a href="#7-处理返回数据" class="headerlink" title="7.处理返回数据"></a>7.处理返回数据</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;发送网络请求(异步)</span><br><span class="line">        call.enqueue(new Callback&lt;TranslationBean&gt;() &#123;</span><br><span class="line">            &#x2F;&#x2F;请求成功时回调</span><br><span class="line">            @Override</span><br><span class="line">            public void onResponse(Call&lt;TranslationBean&gt; call, Response&lt;TranslationBean&gt; response) &#123;</span><br><span class="line">                &#x2F;&#x2F;请求处理,输出结果</span><br><span class="line">                response.body().show(); &#x2F;&#x2F;处理返回数据，这里是显示出数据</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;请求失败时候的回调</span><br><span class="line">            @Override</span><br><span class="line">            public void onFailure(Call&lt;TranslationBean&gt; call, Throwable throwable) &#123;</span><br><span class="line">                System.out.println(&quot;连接失败&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="二、网络接口注解类型"><a href="#二、网络接口注解类型" class="headerlink" title="二、网络接口注解类型"></a>二、网络接口注解类型</h2><h4 id="1-请求方法"><a href="#1-请求方法" class="headerlink" title="1.请求方法"></a>1.请求方法</h4><p><img src="https://gitee.com/yuki-r/blog-image/raw/master/img/20201014203753.png" alt="请求方法注解"></p>
<ul>
<li>注解对应着Http的请求方法</li>
</ul>
<blockquote>
<p>@GET  -&gt;  GET</p>
<p>@POST -&gt; POST</p>
<p>@PUT -&gt; PUT</p>
<p>@DELETE -&gt; DELETE</p>
<p>@PATCH -&gt; PATCH</p>
<p>@HEAD -&gt; HEAD</p>
<p>@OPTIONS -&gt; OPTIONS</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@GET(&quot;ajax.php?a&#x3D;fy&amp;f&#x3D;auto&amp;t&#x3D;auto&amp;w&#x3D;hi%20world&quot;)</span><br><span class="line">Call&lt;TranslationBean&gt; getCall();</span><br><span class="line">&#x2F;&#x2F; @GET注解的作用:采用Get方法发送网络请求</span><br></pre></td></tr></table></figure>

<h4 id="2-标记类型"><a href="#2-标记类型" class="headerlink" title="2.标记类型"></a>2.标记类型</h4><ul>
<li>@FormUrlEncoded  ——  表示请求体是一个From表单</li>
</ul>
<blockquote>
<p>每个键值对需要用@Filed来注解键名，随后的对象需要提供值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@FormUrlEncoded</span><br><span class="line">@POST(&quot;&#x2F;form&quot;)</span><br><span class="line">Call&lt;ResponseBody&gt; getList(@Field(&quot;type&quot;) String type);</span><br></pre></td></tr></table></figure>

<ul>
<li>@Multipart —— 表示请求体是一个支持文件上传的From表单</li>
</ul>
<blockquote>
<p>每个键值对需要用请求参数@Part来注解键名，随后的对象是需要提供值</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@Multipart</span><br><span class="line">@POST(&quot;game&#x2F;findgamebinsb&quot;)</span><br><span class="line">Call&lt;ResponseBody&gt; gameList(@PartMap Map&lt;String, RequestBody&gt; requestBodyMap);</span><br></pre></td></tr></table></figure>

<ul>
<li>@Streaming —— 表示请求的数据以流的形式返回</li>
</ul>
<blockquote>
<p>注意：若未使用@Streaming注解，默认会把数据全部载入内存，获取数据也是读取内存中的数据，当返回数据较大并且没有使用该注解时，会产生OOM。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@Streaming</span><br><span class="line">@GET(&quot;&#x2F;update_apk&quot;)</span><br><span class="line">Call&lt;ResponseBody&gt; downloadFile(@Url String fileUrl);</span><br></pre></td></tr></table></figure>

<h4 id="3-请求参数"><a href="#3-请求参数" class="headerlink" title="3.请求参数"></a>3.请求参数</h4><table>
<thead>
<tr>
<th>注解名称</th>
<th>作用</th>
<th>使用位置</th>
</tr>
</thead>
<tbody><tr>
<td>@Headers</td>
<td>用于添加请求头</td>
<td>请求接口的方法上</td>
</tr>
<tr>
<td>@Header</td>
<td>添加不固定值的Header</td>
<td>请求接口的方法参数中</td>
</tr>
<tr>
<td>@Field/@FieldMap</td>
<td>向Post表单中传键值对，与@FormUrlEncoded注解配合使用</td>
<td></td>
</tr>
<tr>
<td>@Part/@PartMap</td>
<td>表单字段，与@Multipart注解配合使用，适合有文件上传的情况</td>
<td></td>
</tr>
<tr>
<td>@Query/@QueryMap</td>
<td>用于表单字段，作用和@Field@FieldMap相同；区别：@Query和@QueryMap中的数据体现在Url上，而@Field和@FieldMap的数据是请求体，但最后生成的数据形式是一样的</td>
<td></td>
</tr>
<tr>
<td>@Body</td>
<td>非表单请求体</td>
<td></td>
</tr>
<tr>
<td>@Path</td>
<td>URL缺省值</td>
<td></td>
</tr>
<tr>
<td>@URL</td>
<td>URL设置</td>
<td></td>
</tr>
</tbody></table>
<hr>
<p>参考自：</p>
<ul>
<li>《Android 进阶之光》</li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a3e162261ab6">Android Retrofit 2.0 的详细 使用攻略（含实例讲解）</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/ezconn/article/details/102692976">Retrofit2的使用及注解分析</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yuki"
      src="/images/suoda.jpg">
  <p class="site-author-name" itemprop="name">Yuki</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Yuki-r" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Yuki-r" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yuki</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
